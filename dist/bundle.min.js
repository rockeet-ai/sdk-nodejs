!function i(n,a,r){function o(e,t){if(!a[e]){if(!n[e]){var s="function"==typeof require&&require;if(!t&&s)return s(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}s=a[e]={exports:{}},n[e][0].call(s.exports,function(t){return o(n[e][1][t]||t)},s,s.exports,i,n,a,r)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<r.length;t++)o(r[t]);return o}({1:[function(t,e,s){const o={TOKEN:null,ROOT_URL:"https://api.rockeet.ai/v1"};class i{constructor(t){this.response=t}get success(){return this.response.success}get result(){return this.response.result}}e.exports={isLocalFile:t=>/(\/.*|[a-zA-Z]:\\(?:([^<>:"\/\\|?*]*[^<>:"\/\\|?*.]\\|..\\)*([^<>:"\/\\|?*]*[^<>:"\/\\|?*.]\\?|..\\))?)/.test(t),isFileId:t=>/^[a-z]{0,3}_[a-f0-9]{32}$/.test(t),extractFileId:(t,e="fileId",s=0)=>t instanceof i?"string"==typeof t.result||t.result instanceof String?t.result:(t.result instanceof Array?t.result[s]:t.result)[e]:t,endpoint(t,i,n="post",a=!1,r=!1){return new Promise((e,s)=>{t=o.ROOT_URL+t,"get"==n.toLowerCase()&&(t+="?"+Object.entries(i).map(([t,e])=>encodeURIComponent(t)+"="+(Array.isArray(e)?e.map(encodeURIComponent).join(","):encodeURIComponent(e))).join("&")),fetch(t,{method:n.toUpperCase(),body:"get"===n.toLowerCase()?void 0:a?i:JSON.stringify(i),headers:a?{Authorization:o.TOKEN}:{Authorization:o.TOKEN,"Content-Type":"application/json"}}).then(t=>{r?e(t.arrayBuffer()):t.json().then(t=>{e(new Proxy(t,{get(t,e,s){return console.log(t,e,s,t.result,e),"result"===e?t.result:"success"===e?t.success:t.result.constructor==Object||Array.isArray(t.result)?Reflect.has(t.result,e)?Reflect.get(t.result,e,s):void 0:t.result}}))}).catch(s)}).catch(s)})},setToken(t){o.TOKEN=t},getToken(){return o.TOKEN},Response:i}},{}],2:[function(t,e,s){const r=t("./_helper")["endpoint"];e.exports=class a{constructor(t){this.id=t}get(){return r("/assistant",{assistantId:this.id},"get")}delete(){return r("/assistant",{assistantId:this.id},"delete")}train(){return r("/assistant/train",{assistantId:this.id},"post")}parse(t,i=!1){return new Promise((e,s)=>{r("/assistant/parse",{assistantId:this.id,input:t,allScores:i},"post").then(t=>{e(t.result)}).catch(t=>{s(t)})})}get Entity(){return{export:t=>r("/assistant/entity",{assistantId:this.id,entityName:t},"get"),add:(t,e,s=!0,i=!0,n=1,a={})=>r("/assistant/entity",{assistantId:this.id,name:t,examples:e,autoExtend:s,useSynonyms:i,strictness:n,metadata:a},"post"),delete:t=>r("/assistant/entity",{assistantId:this.id,entityName:t},"delete"),list:t=>new Promise((e,s)=>{r("/assistant/entity",{assistantId:this.id,expand:t},"get").then(t=>{e(t.result)}).catch(t=>{s(t)})})}}get Intent(){return{add:(t,e,s,i)=>r("/assistant/intent",{assistantId:this.id,name:t,slots:e,utterances:s,metadata:i},"post"),delete:t=>r("/assistant/intent",{assistantId:this.id,intentName:t},"delete"),list:(t=[])=>r("/assistant/intents",{assistantId:this.id,expand:t},"get"),Utterance:{add:(t,e,s=void 0)=>r("/assistant/intent/utterance",{assistantId:this.id,intentName:t,utterance:e,index:s},"put"),delete:(t,e)=>r("/assistant/intent/utterance",{assistantId:this.id,intentName:t,index:e},"delete"),list:t=>r("/assistant/intent/utterance",{assistantId:this.id,intentName:t},"get")},Slot:{add:(t,e,s)=>r("/assistant/intent/slot",{assistantId:this.id,intentName:t,entityName:e,slotName:s},"put"),remove:(t,e)=>r("/assistant/intent/slot",{assistantId:this.id,intentName:t,slotName:e},"delete"),list:(t,e=!0)=>r("/assistant/intent/slot",{assistantId:this.id,intentName:t,expand:e},"get")}}}static list(){return r("/assistants",{},"get")}static new(t,i,n={}){return new Promise((e,s)=>{r("/assistant",{name:t,language:i,metadata:n}).then(t=>{e(new a(t.result))}).catch(t=>{s(t)})})}}},{"./_helper":1}],3:[function(t,e,s){const{extractFileId:o,endpoint:l}=t("./_helper");e.exports={toWave:t=>(t=o(t),l("/audio/wave",{fileId:t})),profile:(t,e,s=null,i=null,n={})=>(console.log(t),t=o(t),l("/audio/profile",{fileId:t,name:e,start:s,end:i,metadata:n})),speakers:(t,e,s=!1,i=!1,n=.75,a=16)=>{t=o(t);for(let t=0;t<e.length;t++){var r=e[t];e[t]=o(r)}return l("/audio/speakers",{fileId:t,profiles:e,allChunks:s,allScores:i,unknownThreshold:n,rate:a})}}},{"./_helper":1}],4:[function(t,e,s){const{endpoint:n,extractFileId:a}=t("./_helper");e.exports={upload:i=>new Promise((t,e)=>{const s=new FormData;s.append("file",i),n("/file",s,method="post",form=!0).then(t).catch(e)}),list:()=>new Promise((e,t)=>{n("/files",{},"get").then(t=>{e(t.result)}).catch(t)}),download:t=>(t=a(t),n("/file/"+t,{},"get",form=!1,raw=!0)),delete:s=>{if(s instanceof Array){let e=[];for(let t=0;t<s.length;t++){var i=a(s[t]);e.push(n("/file/"+i,{},"delete"))}return e}return n("/file/"+s,{},"delete")}}},{"./_helper":1}],5:[function(t,i,e){const o=t("./file"),{endpoint:l,extractFileId:d,isFileId:c,isLocalFile:n}=t("./_helper");i.exports={faces:(i,n=.9,a=.3,r=1)=>new Promise(async(e,t)=>{i=d(i);let s=!1;c(i)||(i=d(await o.upload(i)),s=!0),l("/image/faces",{fileId:i,sensitivity:n,nms:a,scale:r}).then(t=>{s&&o.delete(i),e(t)}).catch(t)}),person:async(t,e,s={})=>(console.log(e),e=d(e,"profile"),n(e)&&(e=d(await i.exports.faces(e),"profile")),l("/image/person",{name:t,profile:e,metadata:s})),identify:(t,e=[],s=.9,i=.3,n=1,a=.9)=>(t=d(t),e=e.map(t=>d(t,"profile")),l("/image/identify",{fileId:t,profiles:e,sensitivity:s,nms:i,scale:n,similarity:a})),similarity:(t,e,s=!1)=>(t=d(t,"profile"),e=d(e,"profile"),l("/image/similarity",{profile1:t,profile2:e,range:s}))}},{"./_helper":1,"./file":4}],6:[function(t,e,s){const{extractFileId:l,endpoint:d}=t("./_helper");e.exports={faces:(t,e,s=.9,i=.3,n=1,a=.9,r=2)=>{t=l(t);for(let t=0;t<e.length;t++){var o=e[t];e[t]=l(o)}return d("/video/faces",{fileId:t,profiles:e,sensitivity:s,nms:i,scale:n,similarity:a,detectionFramesPerSecond:r})}}},{"./_helper":1}],7:[function(t,e,s){e.exports={Assistant:t("./lib/assistant"),File:t("./lib/file"),Image:t("./lib/image"),Video:t("./lib/video"),Audio:t("./lib/audio"),setToken:t("./lib/_helper").setToken}},{"./lib/_helper":1,"./lib/assistant":2,"./lib/audio":3,"./lib/file":4,"./lib/image":5,"./lib/video":6}],8:[function(t,e,s){window.rockeet;t=t("./rockeet.js");window.rockeet=t},{"./rockeet.js":7}]},{},[8]);